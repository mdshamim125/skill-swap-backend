model User {
  id         String      @id @default(uuid())
  email      String      @unique
  password   String
  name       String?
  avatar     String?
  role       Role        @default(USER)
  status     UserStatus  @default(ACTIVE)
  isVerified Boolean     @default(false)     // for mentor verification badge
  isPremium  Boolean     @default(false)
  premiumExpires DateTime?                   // <--- premium expiration date
  averageRating Float @default(0)


  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt

  // ======================
  // RELATIONS
  // ======================

  profile         Profile?
  skillsOffered   Skill[]     @relation("OfferedSkills")

  bookingsMade    Booking[]   @relation("BookingsMade")
  bookingsHosted  Booking[]   @relation("BookingsHosted")

  reviewsGiven    Review[]    @relation("ReviewsGiven")
  reviewsReceived Review[]    @relation("ReviewsReceived")

  sentMessages     Message[]  @relation("MessageSender")
  receivedMessages Message[]  @relation("MessageReceiver")

  payments        Payment[]
  subscriptions   Subscription[]
  notifications   Notification[]

  @@index([email])
  @@index([role])
  @@index([isPremium])
  @@index([isVerified])
}
