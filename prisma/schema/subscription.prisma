model SubscriptionPlan {
  id            String   @id
  name          String
  price         Int
  durationDays  Int
  description   String?
  subscriptions Subscription[]
  createdAt     DateTime @default(now())
  updatedAt     DateTime @default(now())  // temporary default to allow migration
}



model Subscription {
  id            String             @id @default(uuid())
  userId        String
  planId        String
  status        SubscriptionStatus @default(ACTIVE)
  startedAt     DateTime           @default(now())
  expiresAt     DateTime
  transactionId String?            @unique

  user User             @relation(fields: [userId], references: [id], onDelete: Cascade)
  plan SubscriptionPlan @relation(fields: [planId], references: [id], onDelete: Cascade)
  logs SubscriptionLog[]   // ðŸ‘ˆ REQUIRED reverse relation
  autoRenew Boolean @default(true)


  @@index([userId])
}
